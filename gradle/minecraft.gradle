minecraft {
    version = '1.8' + (plugins.hasPlugin('forge') ? '-recommended' : '')
    mappings = "stable_16"
    runDir = "run"
}
reobf.setSrgMcp()
processResources {
    // this will ensure that this task is redone when the versions change.
    def map = [
        version:project.version,
        mcversion:project.minecraft.version,
        revision:project.rev
    ]

    inputs.properties map

    // replace stuff in mcmod.info, nothing else
    from(sourceSets.main.resources.srcDirs) {
        include 'mcmod.info','litemod.json'

        // replace
        expand map
    }

    // copy everything else, thats not the mcmod.info
    from(sourceSets.main.resources.srcDirs) {
        exclude 'mcmod.info','litemod.json'
    }
}
